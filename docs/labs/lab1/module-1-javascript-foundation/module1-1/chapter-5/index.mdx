# Chapter 5: Basic Loop & Condition

ถ้าฟังก์ชันคือเครื่องมือทำงานซ้ำ Logic หลักคือ “วนลูป” (ทำซ้ำ) และ “เงื่อนไข” (เลือกทางเดิน) บทนี้เน้นรูปแบบที่ใช้บ่อยใน Node.js และอ่านง่ายสำหรับผู้เริ่มต้น

---

## Condition (if/else)
```js
const price = 90;

if (price > 100) {
  console.log("ราคาเกิน 100");
} else if (price === 100) {
  console.log("ราคาพอดี 100");
} else {
  console.log("ราคาต่ำกว่า 100");
}
```

- ใช้ `===` เพื่อเปรียบเทียบทั้งค่าและชนิด
- ลำดับ `if → else if → else` จะเช็กจากบนลงล่าง เจอครั้งแรกก็หยุด

### เงื่อนไขสั้นด้วย ternary
```js
const isFree = price === 0 ? "ฟรี" : "มีราคา";
```

ภาพเงื่อนไขอย่างง่าย
```text
price > 100 ? 
          ├─ true: "ราคาเกิน 100"
          └─ false → price === 100 ?
                        ├─ true: "ราคาพอดี 100"
                        └─ false: "ราคาต่ำกว่า 100"
```

---

## Loop พื้นฐานที่ควรรู้

### for...of (อ่านง่าย ใช้กับ array)
```js
const menu = ["Latte", "Mocha", "Ame"];

for (const item of menu) {
  console.log(item);
}
```

### for (แบบนับรอบ)
```js
for (let i = 0; i < menu.length; i++) {
  console.log(i, menu[i]);
}
```

ภาพลำดับ for (เริ่ม → ตรวจเงื่อนไข → ทำงาน → เพิ่มรอบ)
```text
เริ่ม i = 0
   ↓
เงื่อนไข i < menu.length ?
   ↓true                  ↓false
ทำงานกับ menu[i]        ออกจากลูป
   ↓
i++ แล้ววนกลับไปเช็ก
```

### while (วนจนกว่าจะหยุดเอง)
```js
let stock = 3;
while (stock > 0) {
  console.log("ขายได้อีก", stock);
  stock--;
}
```

### break / continue
```js
for (const item of menu) {
  if (item === "Mocha") {
    continue; // ข้าม Mocha
  }
  if (item === "Ame") {
    break; // หยุดลูป
  }
  console.log(item);
}
```

---

## ใช้ loop + condition กับข้อมูลจริง
```js
const cart = [
  { name: "Latte", price: 55, qty: 1 },
  { name: "Mocha", price: 65, qty: 2 },
  { name: "Ame", price: 45, qty: 1 },
];

let total = 0;
let premiumCount = 0;

for (const item of cart) {
  const lineTotal = item.price * item.qty;
  total += lineTotal;

  if (lineTotal > 100) {
    premiumCount += 1;
  }
}

console.log(`ยอดรวม: ${total}`);
console.log(`มีบิลเกิน 100 จำนวน: ${premiumCount}`);
```

---

## ใช้ array methods แทนลูป (อ่านง่ายขึ้น)
```js
const totalWithReduce = cart.reduce((acc, item) => acc + item.price * item.qty, 0);
const premiumOnly = cart.filter((item) => item.price * item.qty > 100);

console.log(totalWithReduce);
console.log(premiumOnly);
```
ใช้ได้เมื่อเริ่มคุ้นมือ จะช่วยย่อโค้ดให้สั้นและอ่านง่าย

---

# Lab — Loop & Condition
1) รับ array `scores` เช่น `[80, 55, 95, 40]` วนลูปเช็กแต่ละคะแนน ถ้า >= 50 ให้พิมพ์ "ผ่าน", ถ้าน้อยกว่านั้น "ตก"  
2) นับจำนวนคนที่ได้เกิน 90 คะแนน  
3) ใช้ `reduce` คำนวณคะแนนรวม และหาค่าเฉลี่ย  
4) (เสริม) ใช้ ternary สร้าง array ใหม่ที่เก็บ `"Pass"`/`"Fail"` แทนตัวเลขคะแนน

<details>
<summary>เฉลย</summary>

```js
const scores = [80, 55, 95, 40];

let excellent = 0;
for (const s of scores) {
  if (s >= 50) {
    console.log("ผ่าน", s);
  } else {
    console.log("ตก", s);
  }
  if (s > 90) excellent++;
}

const total = scores.reduce((acc, s) => acc + s, 0);
const avg = total / scores.length;

const labels = scores.map((s) => (s >= 50 ? "Pass" : "Fail"));

console.log("ได้เกิน 90:", excellent);
console.log("รวม:", total, "เฉลี่ย:", avg.toFixed(2));
console.log(labels);
```

</details>
